# 第3章 进程管理 ##

## 3.1 进程描述符及任务结构 ##

<div style={{textAlign:'center'}}>

< img src={require('./imgs/fig3.1.png').default} style={{zoom: "33%"}}/>

_图 3-1 进程描述符及任务队列_
</div>

任务队列：进程的列表，双向循环链表。

进程描述符的结构`task_struct`定义在`<linux/sched.h>`文件中。

进程描述符包含的数据：打开的文件，进程的地址空间，扶起的信号，进程的状态，等等。


### 3.2.1 分配进程描述符 ###

通过 `slab`  分配器分配 `task_struct` 结构. 现在 `slab` 分配器通过`struct thread_info` 动态生成 `task_struct`.

x86 上, 在文件 `<asm/thread_info.h>`中:
```c
struct thread_info 
{
        struct task_struct              *task;
        struct exec_domain              *exec_domain;
        _u32                            flags;
        _u32                            status;
        _u32                            cpu;
        int                             preempt_count;
        mm_segment_t                    addr_limit;
        struct restart_block            restart_block;
        void                            *sysenter_return;
        int                             uaccess_str;
};
```

