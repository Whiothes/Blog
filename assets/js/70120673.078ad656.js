"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4131],{79242:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>m,frontMatter:()=>t,metadata:()=>a,toc:()=>c});var r=i(74848),s=i(28453);const t={title:"Member Server in an Active Directory Domain",tags:["winbind","AD","domain","ubuntu","kylin"]},l=void 0,a={permalink:"/blog/2022/07/20/2022/ubuntu-AD-winbind",source:"@site/blog/2022/2022-07-20-ubuntu-AD-winbind.md",title:"Member Server in an Active Directory Domain",description:"Member Server in an Active Directory Domain ##",date:"2022-07-20T00:00:00.000Z",tags:[{inline:!0,label:"winbind",permalink:"/blog/tags/winbind"},{inline:!0,label:"AD",permalink:"/blog/tags/ad"},{inline:!0,label:"domain",permalink:"/blog/tags/domain"},{inline:!0,label:"ubuntu",permalink:"/blog/tags/ubuntu"},{inline:!0,label:"kylin",permalink:"/blog/tags/kylin"}],readingTime:.495,hasTruncateMarker:!1,authors:[],frontMatter:{title:"Member Server in an Active Directory Domain",tags:["winbind","AD","domain","ubuntu","kylin"]},unlisted:!1,prevItem:{title:"SSSD and Active Directory",permalink:"/blog/2022/07/20/2022/ubuntu-AD-sssd"},nextItem:{title:"How to block yum from upgrading obsoleted package?",permalink:"/blog/2022/07/20/2022/yum-block-obsolete"}},o={authorsImageUrls:[]},c=[{value:"Member Server in an Active Directory Domain",id:"member-server-in-an-active-directory-domain",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"member-server-in-an-active-directory-domain",children:(0,r.jsx)(n.a,{href:"https://ubuntu.com/server/docs/samba-active-directory",children:"Member Server in an Active Directory Domain"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Install packages:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"$ sudo apt install realmd samba libnss-winbind samba-common-bin libpam-winbind winbind\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["Edit ",(0,r.jsx)(n.code,{children:"/etc/resolv.conf"})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"nameserver # BD server ip address\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"find realm"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"$ sudo realm discover \n"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsx)(n.li,{children:"Realm join"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"$ sudo realm join -v --membership-software=samba --client-software=winbind $DOMAIN REALM\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsxs)(n.li,{children:["edit ",(0,r.jsx)(n.code,{children:"/etc/nsswitch.conf"})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-conf",children:"passwd:         files systemd winbind\ngroup:          files systemd winbind\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"6",children:["\n",(0,r.jsx)(n.li,{children:"automatically create home directory"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"$ sudo pam-auth-update --enable mkhomedir\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"7",children:["\n",(0,r.jsx)(n.li,{children:"see references for more detail"}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["references","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://ubuntu.com/server/docs/samba-active-directory",children:"Member Server in an Active Directory Domain"})}),"\n"]}),"\n"]}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var r=i(96540);const s={},t=r.createContext(s);function l(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);