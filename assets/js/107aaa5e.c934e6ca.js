"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3444],{78419:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>o,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"TOC/computer/kernel/lkd/ch06","title":"\u7b2c 6 \u7ae0 \u5185\u6838\u6570\u636e\u7ed3\u6784","description":"- \u7b2c 6 \u7ae0 \u5185\u6838\u6570\u636e\u7ed3\u6784","source":"@site/docs/TOC/computer/kernel/lkd/ch06.md","sourceDirName":"TOC/computer/kernel/lkd","slug":"/TOC/computer/kernel/lkd/ch06","permalink":"/docs/TOC/computer/kernel/lkd/ch06","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u7b2c 5 \u7ae0 \u7cfb\u7edf\u8c03\u7528","permalink":"/docs/TOC/computer/kernel/lkd/ch05"},"next":{"title":"\u7b2c 7 \u7ae0 \u4e2d\u65ad\u548c\u4e2d\u65ad\u5904\u7406","permalink":"/docs/TOC/computer/kernel/lkd/ch07"}}');var l=s(74848),r=s(28453);const t={},a="\u7b2c 6 \u7ae0 \u5185\u6838\u6570\u636e\u7ed3\u6784",d={},c=[{value:"6.1 \u94fe\u8868",id:"61-\u94fe\u8868",level:2},{value:"6.1.2 \u73af\u5f62\u94fe\u8868",id:"612-\u73af\u5f62\u94fe\u8868",level:3},{value:"6.1.3 \u6cbf\u94fe\u8868\u79fb\u52a8",id:"613-\u6cbf\u94fe\u8868\u79fb\u52a8",level:3},{value:"6.1.4 Linux \u5185\u6838\u4e2d\u7684\u5b9e\u73b0",id:"614-linux-\u5185\u6838\u4e2d\u7684\u5b9e\u73b0",level:3},{value:"6.1.5 \u64cd\u4f5c\u94fe\u8868",id:"615-\u64cd\u4f5c\u94fe\u8868",level:3},{value:"6.1.6 \u904d\u5386\u94fe\u8868",id:"616-\u904d\u5386\u94fe\u8868",level:3},{value:"6.2 \u961f\u5217",id:"62-\u961f\u5217",level:2},{value:"6.3 \u6620\u5c04",id:"63-\u6620\u5c04",level:2},{value:"6.3.1 \u521d\u59cb\u5316\u4e00\u4e2aidr",id:"631-\u521d\u59cb\u5316\u4e00\u4e2aidr",level:3},{value:"6.3.2 \u5206\u914d\u4e00\u4e2a\u65b0\u7684UID",id:"632-\u5206\u914d\u4e00\u4e2a\u65b0\u7684uid",level:3},{value:"6.3.3 \u67e5\u627e UID",id:"633-\u67e5\u627e-uid",level:3},{value:"6.3.4 \u5220\u9664 UID",id:"634-\u5220\u9664-uid",level:3},{value:"6.3.5 \u64a4\u9500 idr",id:"635-\u64a4\u9500-idr",level:3},{value:"6.4 \u4e8c\u53c9\u6811",id:"64-\u4e8c\u53c9\u6811",level:2},{value:"6.4.1 \u4e8c\u53c9\u641c\u7d22\u6811",id:"641-\u4e8c\u53c9\u641c\u7d22\u6811",level:3},{value:"6.4.2 \u81ea\u5e73\u8861\u4e8c\u53c9\u6811",id:"642-\u81ea\u5e73\u8861\u4e8c\u53c9\u6811",level:3},{value:"1. \u7ea2\u9ed1\u6811 ",id:"1-\u7ea2\u9ed1\u6811-",level:4},{value:"2. rbtree",id:"2-rbtree",level:4},{value:"6.5 \u6570\u636e\u7ed3\u6784\u4ee5\u53ca\u9009\u62e9",id:"65-\u6570\u636e\u7ed3\u6784\u4ee5\u53ca\u9009\u62e9",level:2},{value:"6.6 \u7b97\u6cd5\u590d\u6742\u5ea6",id:"66-\u7b97\u6cd5\u590d\u6742\u5ea6",level:2},{value:"6.6.4 \u65f6\u95f4\u590d\u6742\u5ea6",id:"664-\u65f6\u95f4\u590d\u6742\u5ea6",level:3}];function h(e){const n={a:"a",annotation:"annotation",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",msup:"msup",ol:"ol",p:"p",pre:"pre",section:"section",semantics:"semantics",span:"span",strong:"strong",sup:"sup",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"\u7b2c-6-\u7ae0-\u5185\u6838\u6570\u636e\u7ed3\u6784",children:"\u7b2c 6 \u7ae0 \u5185\u6838\u6570\u636e\u7ed3\u6784"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#%E7%AC%AC-6-%E7%AB%A0-%E5%86%85%E6%A0%B8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84",children:"\u7b2c 6 \u7ae0 \u5185\u6838\u6570\u636e\u7ed3\u6784"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#61-%E9%93%BE%E8%A1%A8",children:"6.1 \u94fe\u8868"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#611-%E5%8D%95%E5%90%91%E9%93%BE%E8%A1%A8%E5%92%8C%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8",children:"6.1.1 \u5355\u5411\u94fe\u8868\u548c\u53cc\u5411\u94fe\u8868"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#612-%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8",children:"6.1.2 \u73af\u5f62\u94fe\u8868"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#613-%E6%B2%BF%E9%93%BE%E8%A1%A8%E7%A7%BB%E5%8A%A8",children:"6.1.3 \u6cbf\u94fe\u8868\u79fb\u52a8"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#614-linux-%E5%86%85%E6%A0%B8%E4%B8%AD%E7%9A%84%E5%AE%9E%E7%8E%B0",children:"6.1.4 Linux \u5185\u6838\u4e2d\u7684\u5b9e\u73b0"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#615-%E6%93%8D%E4%BD%9C%E9%93%BE%E8%A1%A8",children:"6.1.5 \u64cd\u4f5c\u94fe\u8868"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#616-%E9%81%8D%E5%8E%86%E9%93%BE%E8%A1%A8",children:"6.1.6 \u904d\u5386\u94fe\u8868"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#62-%E9%98%9F%E5%88%97",children:"6.2 \u961f\u5217"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#63-%E6%98%A0%E5%B0%84",children:"6.3 \u6620\u5c04"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#631-%E5%88%9D%E5%A7%8B%E5%8C%96%E4%B8%80%E4%B8%AAidr",children:"6.3.1 \u521d\u59cb\u5316\u4e00\u4e2aidr"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#632-%E5%88%86%E9%85%8D%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84uid",children:"6.3.2 \u5206\u914d\u4e00\u4e2a\u65b0\u7684UID"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#633-%E6%9F%A5%E6%89%BE-uid",children:"6.3.3 \u67e5\u627e UID"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#634-%E5%88%A0%E9%99%A4-uid",children:"6.3.4 \u5220\u9664 UID"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#635-%E6%92%A4%E9%94%80-idr",children:"6.3.5 \u64a4\u9500 idr"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#64-%E4%BA%8C%E5%8F%89%E6%A0%91",children:"6.4 \u4e8c\u53c9\u6811"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#641-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91",children:"6.4.1 \u4e8c\u53c9\u641c\u7d22\u6811"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#642-%E8%87%AA%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91",children:"6.4.2 \u81ea\u5e73\u8861\u4e8c\u53c9\u6811"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsxs)(n.a,{href:"#1-%E7%BA%A2%E9%BB%91%E6%A0%91-1",children:["1. \u7ea2\u9ed1\u6811 ",(0,l.jsx)(n.sup,{children:(0,l.jsx)(n.a,{href:"#user-content-fn-1",id:"user-content-fnref-1","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})})]})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#2-rbtree",children:"2. rbtree"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#65-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BB%A5%E5%8F%8A%E9%80%89%E6%8B%A9",children:"6.5 \u6570\u636e\u7ed3\u6784\u4ee5\u53ca\u9009\u62e9"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#66-%E7%AE%97%E6%B3%95%E5%A4%8D%E6%9D%82%E5%BA%A6",children:"6.6 \u7b97\u6cd5\u590d\u6742\u5ea6"})," - ",(0,l.jsx)(n.a,{href:"#664-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6",children:"6.6.4 \u65f6\u95f4\u590d\u6742\u5ea6"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"61-\u94fe\u8868",children:"6.1 \u94fe\u8868"}),"\n",(0,l.jsx)(n.h1,{id:"611-\u5355\u5411\u94fe\u8868\u548c\u53cc\u5411\u94fe\u8868",children:"6.1.1 \u5355\u5411\u94fe\u8868\u548c\u53cc\u5411\u94fe\u8868"}),"\n",(0,l.jsx)(n.p,{children:"\u5355\u5411\u94fe\u8868\u4ec5\u6709\u540e\u6307\u9488\uff0c\u53cc\u5411\u94fe\u8868\u591a\u4e00\u4e2a\u524d\u6307\u9488"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"<linux/list.h>"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:'/*\n * Simple doubly linked list implementation.\n *\n * Some of the internal functions ("__xxx") are useful when\n * manipulating whole lists rather than single entries, as\n * sometimes we already know the next/prev entries and we can\n * generate better code by using them directly rather than\n * using the generic single-entry routines.\n */\n\nstruct list_head {\n struct list_head *next, *prev;\n};\n\n#define LIST_HEAD_INIT(name) { &(name), &(name) }\n\n#define LIST_HEAD(name)                                 \\\n struct list_head name = LIST_HEAD_INIT(name)\n\n'})}),"\n",(0,l.jsx)(n.h3,{id:"612-\u73af\u5f62\u94fe\u8868",children:"6.1.2 \u73af\u5f62\u94fe\u8868"}),"\n",(0,l.jsx)(n.p,{children:"\u9996\u5c3e\u76f8\u8fde\uff0c\u5c3e\u8282\u70b9\u7684\u540e\u6307\u9488\u6307\u5411\u5934\u8282\u70b9"}),"\n",(0,l.jsx)(n.h3,{id:"613-\u6cbf\u94fe\u8868\u79fb\u52a8",children:"6.1.3 \u6cbf\u94fe\u8868\u79fb\u52a8"}),"\n",(0,l.jsx)(n.p,{children:"\u53ea\u80fd\u662f\u7ebf\u6027\u79fb\u52a8"}),"\n",(0,l.jsx)(n.h3,{id:"614-linux-\u5185\u6838\u4e2d\u7684\u5b9e\u73b0",children:"6.1.4 Linux \u5185\u6838\u4e2d\u7684\u5b9e\u73b0"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"struct fox {\n        unsigned long tail_length;\n        unsigned long weight;\n        bool is_fantastic;\n};\n"})}),"\n",(0,l.jsx)(n.p,{children:"Linux \u5185\u6838\u5b9e\u73b0\u4e0d\u662f\u5c06\u6570\u636e\u7ed3\u6784\u585e\u5165\u94fe\u8868\uff0c\u800c\u662f\u5c06\u94fe\u8868\u585e\u5165\u6570\u636e\u7ed3\u6784"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u94fe\u8868\u6570\u636e\u7ed3\u6784"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"struct fox {\n        unsigned long tail_length;\n        unsigned long weight;\n        bool is_fantastic;\n        struct list_head list;\n};\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u4f7f\u7528",(0,l.jsx)(n.code,{children:"container_of()"}),"\u5b8f\u53ef\u4ee5\u4ece\u94fe\u8868\u6307\u9488\u627e\u5230\u7236\u7ed3\u6784\u5305\u542b\u7684\u4efb\u4f55\u53d8\u91cf"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"/**\n * container_of - cast a member of a structure out to the containing structure\n * @ptr: the pointer to the member.\n * @type: the type of the container struct this is embedded in.\n * @member: the name of the member within the struct.\n *\n */\n#define container_of(ptr, type, member) ({   \\\n const typeof( ((type *)0)->member ) *__mptr = (ptr); \\\n (type *)( (char *)__mptr - offsetof(type,member) );})\n\n/**\n * list_entry - get the struct for this entry\n * @ptr: the &struct list_head pointer.\n * @type: the type of the struct this is embedded in.\n * @member: the name of the list_struct within the struct.\n */\n#define list_entry(ptr, type, member)           \\\n container_of(ptr, type, member)\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5b9a\u4e49\u4e00\u4e2a\u94fe\u8868"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"struct fox {\n        unsigned long tail_length;\n        unsigned long weight;\n        bool is_fantastic;\n        struct list_head list;\n};\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u521d\u59cb\u5316:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"struct fox *red_fox = NULL;\nred_fox = kmalloc(sizeof(*red_fox), GFP_KERNEL);\nred_fox->tail_length = 40;\nred_fox->weight = 6;\nred_fox->is_fantastic = false;\n\nINIT_LIST_HEAD(&red_fox->list);\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5982\u679c\u5728\u7f16\u8bd1\u671f\u95f4\u9759\u6001\u521b\u5efa,\u5219\u9700\u8981\u76f4\u63a5\u7ed9\u51fa\u94fe\u8868\u7684\u76f4\u63a5\u5f15\u7528"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"struct fox red_fox = {\n.tail_length = 40,\n.weight = 6,\n\n.list = LIST_HEAD_INIT(red_fox.list);\n};\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u94fe\u8868\u5934"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"static LIST_HEAD(fox_list);\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"615-\u64cd\u4f5c\u94fe\u8868",children:"6.1.5 \u64cd\u4f5c\u94fe\u8868"}),"\n",(0,l.jsxs)(n.p,{children:["\u9605\u8bfb ",(0,l.jsx)(n.code,{children:"<linux/list.h>"}),"\u3000\u6e90\u7801"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5411\u94fe\u8868\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u8282\u70b9"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"list_add(&f->list, &fox_list);\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"616-\u904d\u5386\u94fe\u8868",children:"6.1.6 \u904d\u5386\u94fe\u8868"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u57fa\u672c\u65b9\u6cd5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"struct list_head *p;\nstruct fox *f;\n\nlist_for_each(p, &fox_list) {\nf = list_entry(p, struct fox, list);\n}\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u53ef\u7528\u7684\u65b9\u6cd5"}),"\n",(0,l.jsx)(n.p,{children:"intify \u5b9e\u4f8b,\u3000\u5185\u6838\u6587\u4ef6\u7cfb\u7edf\u7684\u66f4\u65b0\u901a\u77e5\u673a\u5236:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"struct inotify_watch {\nstruct list_head        h_list; /* entry in inotify_handle's list */\nstruct list_head        i_list; /* entry in inode's list */\natomic_t                count;  /* reference count */\nstruct inotify_handle  *ih;     /* associated inotify handle */\nstruct inode           *inode;  /* associated inode */\n__s32                   wd;     /* watch descriptor */\n__u32                   mask;   /* event mask for this watch */\n};\n\n/*\n* inotify_find_handle - find the watch associated with the given inode and\n* handle\n*\n* Callers must hold inode->inotify_mutex.\n*/\nstatic struct inotify_watch *inode_find_handle(struct inode *inode,\n            struct inotify_handle *ih)\n{\nstruct inotify_watch *watch;\n\nlist_for_each_entry(watch, &inode->inotify_watches, i_list)\n{\nif (watch->ih == ih)\nreturn watch;\n}\n\nreturn NULL;\n}\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u53cd\u5411\u904d\u5386\u94fe\u8868"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"list_for_each_entry_reverse(pos, head, member);\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u904d\u5386\u7684\u540c\u65f6\u5220\u9664"}),"\n",(0,l.jsx)(n.p,{children:"inotify \u5b9e\u4f8b:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"list_for_each_entry_safe(pos, next, head, member);\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"/**\n* inotify_inode_is_dead - an inode has been deleted, cleanup any watches\n* @inode: inode that is about to be removed\n*/\nvoid inotify_inode_is_dead(struct inode *inode)\n{\nstruct inotify_watch *watch, *next;\n\nmutex_lock(&inode->inotify_mutex);\nlist_for_each_entry_safe(watch, next, &inode->inotify_watches, i_list) {\nstruct inotify_handle *ih = watch->ih;\nmutex_lock(&ih->mutex);\ninotify_remove_watch_locked(ih, watch);\nmutex_unlock(&ih->mutex);\n}\nmutex_unlock(&inode->inotify_mutex);\n}\nEXPORT_SYMBOL_GPL(inotify_inode_is_dead);\n"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsxs)(n.strong,{children:[(0,l.jsx)(n.code,{children:"list_for_each_entry_safe"}),"\u7248\u672c\u4fdd\u8bc1\u4e86\u5728\u5faa\u73af\u4f55\u4e2d\u4ece\u94fe\u8868\u5220\u9664\u6570\u636e\uff0c\u4f46\u662f\u5e76\u53d1\u5220\u9664\u4f9d\u7136\u9700\u8981\u9501\u5b9a"]})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5176\u4ed6\u94fe\u8868\u65b9\u6cd5"}),"\n",(0,l.jsxs)(n.p,{children:["\u53c2\u89c1 ",(0,l.jsx)(n.code,{children:"<linux/list.h>"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"62-\u961f\u5217",children:"6.2 \u961f\u5217"}),"\n",(0,l.jsxs)(n.p,{children:["\u9605\u8bfb ",(0,l.jsx)(n.code,{children:"<linux/kfifo.h>"}),"\u548c",(0,l.jsx)(n.code,{children:"kernel/kfifo.c"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"struct kfifo {\n unsigned char *buffer; /* the buffer holding the data */\n unsigned int size; /* the size of the allocated buffer */\n unsigned int in; /* data is added at offset (in % size) */\n unsigned int out; /* data is extracted from off. (out % size) */\n};\n"})}),"\n",(0,l.jsx)(n.h2,{id:"63-\u6620\u5c04",children:"6.3 \u6620\u5c04"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Add (key, value)"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Remove (key)"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"value = Lookup (key)"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u952e\u503c\u5bf9\u3002\u65e0\u901a\u7528\u5b9e\u73b0\uff0c",(0,l.jsx)(n.code,{children:"<linux/idr.h>"}),"\u548c",(0,l.jsx)(n.code,{children:"kernel/idr.c"}),"\u3000\u4f5c\u4e3a\u6620\u5c04\u7528\u6237UID\u7684\u5b9e\u4f8b\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"631-\u521d\u59cb\u5316\u4e00\u4e2aidr",children:"6.3.1 \u521d\u59cb\u5316\u4e00\u4e2aidr"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"void idr_init(struct idr *idp);\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u8303\u4f8b:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"struct idr id_huh;\nidr_init(&id_huh);\n"})}),"\n",(0,l.jsx)(n.h3,{id:"632-\u5206\u914d\u4e00\u4e2a\u65b0\u7684uid",children:"6.3.2 \u5206\u914d\u4e00\u4e2a\u65b0\u7684UID"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u8c03\u6574\u540e\u5907\u4efd\u6811\u7684\u5927\u5c0f ",(0,l.jsx)(n.code,{children:"idr_pre_get()"})]}),"\n",(0,l.jsxs)(n.p,{children:["\u8c03\u6574\u7531idp\u6307\u5411\u7684idr\u7684\u5927\u5c0f\u3002",(0,l.jsx)(n.strong,{children:"\u6210\u529f\u65f6\u8fd4\u56de1\uff0c\u5931\u8d25\u65f6\u8fd4\u56de0\u3002"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"/**\n* idr_pre_get - reserver resources for idr allocation\n* @idp: idr handle\n* @gfp_mask: memory allocation flags\n*\n* This function should be called prior to locking and calling the\n* idr_get_new* functions. It preallocates enough memory to satisfy\n* the worst possible allocation.\n*\n* If the system is REALLY out of memory this function returns 0,\n* otherwise 1.\n*/\nint idr_pre_get(struct idr *idp, gfp_t gfp_mask)\n{\nwhile (idp->id_free_cnt < IDR_FREE_MAX) {\nstruct idr_layer *new;\nnew = kmem_cache_zalloc(idr_layer_cache, gfp_mask);\nif (new == NULL)\nreturn (0);\nmove_to_free_list(idp, new);\n}\nreturn 1;\n}\nEXPORT_SYMBOL(idr_pre_get);\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u83b7\u53d6\u65b0\u7684UID\uff0c\u5e76\u5c06\u5176\u52a0\u5230idr\u7684\u65b9\u6cd5\u662f",(0,l.jsx)(n.code,{children:"idr_get_new()"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"/**\n* ida_get_new - allocate new ID\n* @ida: idr handle\n* @p_id: pointer to the allocated handle\n*\n* Allocate new ID.  It should be called with any required locks.\n*\n* If memory is required, it will return -EAGAIN, you should unlock\n* and go back to the idr_pre_get() call.  If the idr is full, it will\n* return -ENOSPC.\n*\n* @id returns a value in the range 0 ... 0x7fffffff.\n*/\nint ida_get_new(struct ida *ida, int *p_id)\n{\nreturn ida_get_new_above(ida, 0, p_id);\n}\nEXPORT_SYMBOL(ida_get_new);\n\n/**\n* ida_get_new_above - allocate new ID above or equal to a start id\n* @ida: ida handle\n* @staring_id: id to start search at\n* @p_id: pointer to the allocated handle\n*\n* Allocate new ID above or equal to @ida.  It should be called with\n* any required locks.\n*\n* If memory is required, it will return -EAGAIN, you should unlock\n* and go back to the ida_pre_get() call.  If the ida is full, it will\n* return -ENOSPC.\n*\n* @p_id returns a value in the range @starting_id ... 0x7fffffff.\n*/\nint ida_get_new_above(struct ida *ida, int starting_id, int *p_id);\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u8303\u4f8b:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"int id;\n\ndo {\nif (!idr_pre_get(&idr_huh, GFP_KERNEL))\nreturn -ENOSPC;\nret = idr_get_new(&idr_huh, ptr, &id);\n} while (ret == -EAGAIN);\n\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"633-\u67e5\u627e-uid",children:"6.3.3 \u67e5\u627e UID"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"/**\n * idr_find - return pointer for given id\n * @idp: idr handle\n * @id: lookup key\n *\n * Return the pointer given the id it has been registered with.  A %NULL\n * return indicates that @id is not valid or you passed %NULL in\n * idr_get_new().\n *\n * This function can be called under rcu_read_lock(), given that the leaf\n * pointers lifetimes are correctly managed.\n */\nvoid *idr_find(struct idr *idp, int id);\n"})}),"\n",(0,l.jsx)(n.h3,{id:"634-\u5220\u9664-uid",children:"6.3.4 \u5220\u9664 UID"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"/**\n * idr_remove - remove the given id and free it's slot\n * @idp: idr handle\n * @id: unique key\n */\nvoid idr_remove(struct idr *idp, int id);\n"})}),"\n",(0,l.jsx)(n.h3,{id:"635-\u64a4\u9500-idr",children:"6.3.5 \u64a4\u9500 idr"}),"\n",(0,l.jsx)(n.p,{children:"\u53ea\u91ca\u653e idr \u4e2d\u672a\u4f7f\u7528\u7684\u5185\u5b58\uff0c\u5e76\u4e0d\u91ca\u653e\u5f53\u524d\u5206\u914d\u7ed9 UID \u4f7f\u7528\u7684\u5185\u5b58\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"/**\n * idr_destroy - release all cached layers within an idr tree\n * idp: idr handle\n */\nvoid idr_destroy(struct idr *idp);\n/**\n * idr_destroy - release all cached layers within an idr tree\n * idp: idr handle\n */\nvoid idr_destroy(struct idr *idp);\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8c03\u7528 ",(0,l.jsx)(n.code,{children:"idr_remove_all()"})," \u53ef\u4ee5\u5220\u9664\u6240\u6709\u7684 UID"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"/**\n * idr_remove_all - remove all ids from the given idr tree\n * @idp: idr handle\n *\n * idr_destroy() only frees up unused, cached idp_layers, but this\n * function will remove all id mappings and leave all idp_layers\n * unused.\n *\n * A typical clean-up sequence for objects stored in an idr tree, will\n * use idr_for_each() to free all objects, if necessay, then\n * idr_remove_all() to remove all ids, and idr_destroy() to free\n * up the cached idr_layers.\n */\nvoid idr_remove_all(struct idr *idp);\n"})}),"\n",(0,l.jsx)(n.h2,{id:"64-\u4e8c\u53c9\u6811",children:"6.4 \u4e8c\u53c9\u6811"}),"\n",(0,l.jsx)(n.h3,{id:"641-\u4e8c\u53c9\u641c\u7d22\u6811",children:"6.4.1 \u4e8c\u53c9\u641c\u7d22\u6811"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6839\u7684\u5de6\u5206\u652f\u8282\u70b9\u503c\u90fd\u5c0f\u4e8e\u6839\u8282\u70b9\u503c"}),"\n",(0,l.jsx)(n.li,{children:"\u53f3\u5206\u652f\u8282\u70b9\u503c\u90fd\u5927\u4e8e\u6839\u8282\u70b9\u503c"}),"\n",(0,l.jsx)(n.li,{children:"\u6240\u6709\u7684\u5b50\u6811\u4e5f\u90fd\u662f\u4e8c\u53c9\u641c\u7d22\u6811"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"642-\u81ea\u5e73\u8861\u4e8c\u53c9\u6811",children:"6.4.2 \u81ea\u5e73\u8861\u4e8c\u53c9\u6811"}),"\n",(0,l.jsxs)(n.h4,{id:"1-\u7ea2\u9ed1\u6811-",children:["1. \u7ea2\u9ed1\u6811 ",(0,l.jsx)(n.sup,{children:(0,l.jsx)(n.a,{href:"#user-content-fn-1",id:"user-content-fnref-1-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})})]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\u6240\u6709\u7684\u8282\u70b9\u8981\u4e48\u7740\u7ea2\u8272\uff0c\u8981\u4e48\u7740\u9ed1\u8272"}),"\n",(0,l.jsx)(n.li,{children:"\u53f6\u5b50\u8282\u70b9\u90fd\u662f\u9ed1\u8272"}),"\n",(0,l.jsx)(n.li,{children:"\u53f6\u5b50\u8282\u70b9\u4e0d\u5305\u542b\u6570\u636e"}),"\n",(0,l.jsx)(n.li,{children:"\u6240\u6709\u975e\u53f6\u5b50\u8282\u70b9\u90fd\u6709\u4e24\u4e2a\u5b50\u8282\u70b9"}),"\n",(0,l.jsx)(n.li,{children:"\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u662f\u7ea2\u8272\uff0c\u5219\u5b83\u7684\u5b50\u8282\u70b9\u90fd\u662f\u9ed1\u8272"}),"\n",(0,l.jsx)(n.li,{children:"\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u5230\u5176\u53f6\u5b50\u8282\u70b9\u7684\u8def\u5f84\u4e2d\uff0c\u5982\u679c\u603b\u662f\u5305\u542b\u540c\u6837\u6570\u636e\u7684\u9ed1\u8272\u8282\u70b9\uff0c\u5219\u8be5\u8def\u5f84\u76f8\u6bd4\u5176\u4ed6\u8def\u5f84\u662f\u6700\u77ed\u7684\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"2-rbtree",children:"2. rbtree"}),"\n",(0,l.jsxs)(n.p,{children:["\u4ee3\u7801\u5b9e\u73b0\u89c1 ",(0,l.jsx)(n.code,{children:"<linux/rbtree.h>"}),"\u548c",(0,l.jsx)(n.code,{children:"lib/rbtree.c"})]}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u9875\u9ad8\u901f\u7f13\u5b58\u4e2d\u641c\u7d22\u548c\u63d2\u5165\u6587\u4ef6\u533a\u7684\u793a\u4f8b\u4ee3\u7801:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:"static inline struct page * rb_search_page_cache(struct inode * inode,\n       unsigned long offset)\n{\n struct rb_node * n = inode->i_rb_page_cache.rb_node;\n struct page * page;\n\n while (n)\n {\n  page = rb_entry(n, struct page, rb_page_cache);\n\n  if (offset < page->offset)\n   n = n->rb_left;\n  else if (offset > page->offset)\n   n = n->rb_right;\n  else\n   return page;\n }\n return NULL;\n}\n\nstatic inline struct page * __rb_insert_page_cache(struct inode * inode,\n         unsigned long offset,\n         struct rb_node * node)\n{\n struct rb_node ** p = &inode->i_rb_page_cache.rb_node;\n struct rb_node * parent = NULL;\n struct page * page;\n\n while (*p)\n {\n  parent = *p;\n  page = rb_entry(parent, struct page, rb_page_cache);\n\n  if (offset < page->offset)\n   p = &(*p)->rb_left;\n  else if (offset > page->offset)\n   p = &(*p)->rb_right;\n  else\n   return page;\n }\n\n rb_link_node(node, parent, p);\n\n return NULL;\n}\n\nstatic inline struct page * rb_insert_page_cache(struct inode * inode,\n       unsigned long offset,\n       struct rb_node * node)\n{\n struct page * ret;\n if ((ret = __rb_insert_page_cache(inode, offset, node)))\n  goto out;\n rb_insert_color(node, &inode->i_rb_page_cache);\n out:\n return ret;\n}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"65-\u6570\u636e\u7ed3\u6784\u4ee5\u53ca\u9009\u62e9",children:"6.5 \u6570\u636e\u7ed3\u6784\u4ee5\u53ca\u9009\u62e9"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4e3b\u8981\u64cd\u4f5c\u662f\u904d\u5386\u6570\u636e\u4f7f\u7528\u94fe\u8868"}),"\n",(0,l.jsx)(n.li,{children:"\u4ee3\u7801\u7b26\u5408\u751f\u4ea7\u8005/\u6d88\u8d39\u8005\u6a21\u5f0f\uff0c\u4f7f\u7528\u961f\u5217"}),"\n",(0,l.jsx)(n.li,{children:"\u9700\u8981\u6620\u5c04\u4e00\u4e2a\u952e\u503c\u5230\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4f7f\u7528\u6620\u5c04"}),"\n",(0,l.jsx)(n.li,{children:"\u9700\u8981\u5b58\u50a8\u5927\u91cf\u6570\u636e\uff0c\u5e76\u4e14\u68c0\u7d22\u8fc5\u901f\uff0c\u4f7f\u7528\u7ea2\u9ed1\u6811\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"66-\u7b97\u6cd5\u590d\u6742\u5ea6",children:"6.6 \u7b97\u6cd5\u590d\u6742\u5ea6"}),"\n",(0,l.jsx)(n.h3,{id:"664-\u65f6\u95f4\u590d\u6742\u5ea6",children:"6.6.4 \u65f6\u95f4\u590d\u6742\u5ea6"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.em,{children:"\u8868 6-1 \u65f6\u95f4\u590d\u6742\u5ea6\u8868"})}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:(0,l.jsxs)(n.span,{className:"katex",children:[(0,l.jsx)(n.span,{className:"katex-mathml",children:(0,l.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(n.semantics,{children:[(0,l.jsxs)(n.mrow,{children:[(0,l.jsx)(n.mi,{children:"O"}),(0,l.jsx)(n.mo,{stretchy:"false",children:"("}),(0,l.jsx)(n.mi,{children:"g"}),(0,l.jsx)(n.mo,{stretchy:"false",children:"("}),(0,l.jsx)(n.mi,{children:"x"}),(0,l.jsx)(n.mo,{stretchy:"false",children:")"}),(0,l.jsx)(n.mo,{stretchy:"false",children:")"})]}),(0,l.jsx)(n.annotation,{encoding:"application/x-tex",children:"O(g(x))"})]})})}),(0,l.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(n.span,{className:"base",children:[(0,l.jsx)(n.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,l.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,l.jsx)(n.span,{className:"mopen",children:"("}),(0,l.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"g"}),(0,l.jsx)(n.span,{className:"mopen",children:"("}),(0,l.jsx)(n.span,{className:"mord mathnormal",children:"x"}),(0,l.jsx)(n.span,{className:"mclose",children:"))"})]})})]})}),(0,l.jsx)(n.th,{children:"\u540d\u79f0"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsxs)(n.span,{className:"katex",children:[(0,l.jsx)(n.span,{className:"katex-mathml",children:(0,l.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(n.semantics,{children:[(0,l.jsx)(n.mrow,{children:(0,l.jsx)(n.mn,{children:"1"})}),(0,l.jsx)(n.annotation,{encoding:"application/x-tex",children:"1"})]})})}),(0,l.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(n.span,{className:"base",children:[(0,l.jsx)(n.span,{className:"strut",style:{height:"0.6444em"}}),(0,l.jsx)(n.span,{className:"mord",children:"1"})]})})]})}),(0,l.jsx)(n.td,{children:"\u6052\u91cf"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsxs)(n.span,{className:"katex",children:[(0,l.jsx)(n.span,{className:"katex-mathml",children:(0,l.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(n.semantics,{children:[(0,l.jsx)(n.mrow,{children:(0,l.jsxs)(n.msub,{children:[(0,l.jsxs)(n.mrow,{children:[(0,l.jsx)(n.mi,{children:"log"}),(0,l.jsx)(n.mo,{children:"\u2061"})]}),(0,l.jsx)(n.mi,{children:"n"})]})}),(0,l.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\log_n"})]})})}),(0,l.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(n.span,{className:"base",children:[(0,l.jsx)(n.span,{className:"strut",style:{height:"0.9386em",verticalAlign:"-0.2441em"}}),(0,l.jsxs)(n.span,{className:"mop",children:[(0,l.jsxs)(n.span,{className:"mop",children:["lo",(0,l.jsx)(n.span,{style:{marginRight:"0.01389em"},children:"g"})]}),(0,l.jsx)(n.span,{className:"msupsub",children:(0,l.jsxs)(n.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(n.span,{className:"vlist-r",children:[(0,l.jsx)(n.span,{className:"vlist",style:{height:"0.0573em"},children:(0,l.jsxs)(n.span,{style:{top:"-2.4559em",marginRight:"0.05em"},children:[(0,l.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(n.span,{className:"mord mathnormal mtight",children:"n"})})]})}),(0,l.jsx)(n.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(n.span,{className:"vlist-r",children:(0,l.jsx)(n.span,{className:"vlist",style:{height:"0.2441em"},children:(0,l.jsx)(n.span,{})})})]})})]})]})})]})}),(0,l.jsx)(n.td,{children:"\u5bf9\u6570\u7684"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsxs)(n.span,{className:"katex",children:[(0,l.jsx)(n.span,{className:"katex-mathml",children:(0,l.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(n.semantics,{children:[(0,l.jsx)(n.mrow,{children:(0,l.jsx)(n.mi,{children:"n"})}),(0,l.jsx)(n.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,l.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(n.span,{className:"base",children:[(0,l.jsx)(n.span,{className:"strut",style:{height:"0.4306em"}}),(0,l.jsx)(n.span,{className:"mord mathnormal",children:"n"})]})})]})}),(0,l.jsx)(n.td,{children:"\u7ebf\u6027\u7684"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsxs)(n.span,{className:"katex",children:[(0,l.jsx)(n.span,{className:"katex-mathml",children:(0,l.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(n.semantics,{children:[(0,l.jsx)(n.mrow,{children:(0,l.jsxs)(n.msup,{children:[(0,l.jsx)(n.mi,{children:"n"}),(0,l.jsx)(n.mn,{children:"2"})]})}),(0,l.jsx)(n.annotation,{encoding:"application/x-tex",children:"n^2"})]})})}),(0,l.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(n.span,{className:"base",children:[(0,l.jsx)(n.span,{className:"strut",style:{height:"0.8141em"}}),(0,l.jsxs)(n.span,{className:"mord",children:[(0,l.jsx)(n.span,{className:"mord mathnormal",children:"n"}),(0,l.jsx)(n.span,{className:"msupsub",children:(0,l.jsx)(n.span,{className:"vlist-t",children:(0,l.jsx)(n.span,{className:"vlist-r",children:(0,l.jsx)(n.span,{className:"vlist",style:{height:"0.8141em"},children:(0,l.jsxs)(n.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(n.span,{className:"mord mtight",children:"2"})})]})})})})})]})]})})]})}),(0,l.jsx)(n.td,{children:"\u5e73\u65b9\u7684"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsxs)(n.span,{className:"katex",children:[(0,l.jsx)(n.span,{className:"katex-mathml",children:(0,l.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(n.semantics,{children:[(0,l.jsx)(n.mrow,{children:(0,l.jsxs)(n.msup,{children:[(0,l.jsx)(n.mi,{children:"n"}),(0,l.jsx)(n.mn,{children:"3"})]})}),(0,l.jsx)(n.annotation,{encoding:"application/x-tex",children:"n^3"})]})})}),(0,l.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(n.span,{className:"base",children:[(0,l.jsx)(n.span,{className:"strut",style:{height:"0.8141em"}}),(0,l.jsxs)(n.span,{className:"mord",children:[(0,l.jsx)(n.span,{className:"mord mathnormal",children:"n"}),(0,l.jsx)(n.span,{className:"msupsub",children:(0,l.jsx)(n.span,{className:"vlist-t",children:(0,l.jsx)(n.span,{className:"vlist-r",children:(0,l.jsx)(n.span,{className:"vlist",style:{height:"0.8141em"},children:(0,l.jsxs)(n.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(n.span,{className:"mord mtight",children:"3"})})]})})})})})]})]})})]})}),(0,l.jsx)(n.td,{children:"\u7acb\u65b9\u7684"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsxs)(n.span,{className:"katex",children:[(0,l.jsx)(n.span,{className:"katex-mathml",children:(0,l.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(n.semantics,{children:[(0,l.jsx)(n.mrow,{children:(0,l.jsxs)(n.msup,{children:[(0,l.jsx)(n.mn,{children:"2"}),(0,l.jsx)(n.mi,{children:"n"})]})}),(0,l.jsx)(n.annotation,{encoding:"application/x-tex",children:"2^n"})]})})}),(0,l.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(n.span,{className:"base",children:[(0,l.jsx)(n.span,{className:"strut",style:{height:"0.6644em"}}),(0,l.jsxs)(n.span,{className:"mord",children:[(0,l.jsx)(n.span,{className:"mord",children:"2"}),(0,l.jsx)(n.span,{className:"msupsub",children:(0,l.jsx)(n.span,{className:"vlist-t",children:(0,l.jsx)(n.span,{className:"vlist-r",children:(0,l.jsx)(n.span,{className:"vlist",style:{height:"0.6644em"},children:(0,l.jsxs)(n.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(n.span,{className:"mord mathnormal mtight",children:"n"})})]})})})})})]})]})})]})}),(0,l.jsx)(n.td,{children:"\u6307\u6570\u7684"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsxs)(n.span,{className:"katex",children:[(0,l.jsx)(n.span,{className:"katex-mathml",children:(0,l.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,l.jsxs)(n.semantics,{children:[(0,l.jsxs)(n.mrow,{children:[(0,l.jsx)(n.mi,{children:"n"}),(0,l.jsx)(n.mo,{stretchy:"false",children:"!"})]}),(0,l.jsx)(n.annotation,{encoding:"application/x-tex",children:"n!"})]})})}),(0,l.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,l.jsxs)(n.span,{className:"base",children:[(0,l.jsx)(n.span,{className:"strut",style:{height:"0.6944em"}}),(0,l.jsx)(n.span,{className:"mord mathnormal",children:"n"}),(0,l.jsx)(n.span,{className:"mclose",children:"!"})]})})]})}),(0,l.jsx)(n.td,{children:"\u9636\u4e58"})]})]})]}),"\n","\n",(0,l.jsxs)(n.section,{"data-footnotes":!0,className:"footnotes",children:[(0,l.jsx)(n.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{id:"user-content-fn-1",children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://zefrain.github.io/docs/TOC/computer/Algorithms/Algorithms/ch03#33-%E5%B9%B3%E8%A1%A1%E6%9F%A5%E6%89%BE%E6%A0%91",children:"\u5e73\u8861\u67e5\u627e\u6811"})," ",(0,l.jsx)(n.a,{href:"#user-content-fnref-1","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})," ",(0,l.jsxs)(n.a,{href:"#user-content-fnref-1-2","data-footnote-backref":"","aria-label":"Back to reference 1-2",className:"data-footnote-backref",children:["\u21a9",(0,l.jsx)(n.sup,{children:"2"})]})]}),"\n"]}),"\n"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var i=s(96540);const l={},r=i.createContext(l);function t(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);