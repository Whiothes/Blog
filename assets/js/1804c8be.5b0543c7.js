"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3782],{84786:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>r,toc:()=>c});var r=t(10656),o=t(74848),s=t(28453);const a={title:"Set docker proxy",tags:["docker","proxy","container"]},l="How to set proxy for docker",i={authorsImageUrls:[]},c=[];function p(e){const n={code:"code",li:"li",ol:"ol",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"create/edit user docker configuration:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"sudo vim /etc/docker/daemon.json\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:"set up proxy"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-conf",children:'{\n  "proxies": {\n    "http-proxy": "http://proxy.example.com:80",\n    "https-proxy": "https://proxy.example.com:443",\n    "no-proxy": "*.test.example.com,.example.org"\n  }\n}\n'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"This is a full example of the allowed configuration options on Linux:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "allow-nondistributable-artifacts": [],\n  "api-cors-header": "",\n  "authorization-plugins": [],\n  "bip": "",\n  "bridge": "",\n  "cgroup-parent": "",\n  "containerd": "/run/containerd/containerd.sock",\n  "containerd-namespace": "docker",\n  "containerd-plugin-namespace": "docker-plugins",\n  "data-root": "",\n  "debug": true,\n  "default-address-pools": [\n    {\n      "base": "172.30.0.0/16",\n      "size": 24\n    },\n    {\n      "base": "172.31.0.0/16",\n      "size": 24\n    }\n  ],\n  "default-cgroupns-mode": "private",\n  "default-gateway": "",\n  "default-gateway-v6": "",\n  "default-network-opts": {},\n  "default-runtime": "runc",\n  "default-shm-size": "64M",\n  "default-ulimits": {\n    "nofile": {\n      "Hard": 64000,\n      "Name": "nofile",\n      "Soft": 64000\n    }\n  },\n  "dns": [],\n  "dns-opts": [],\n  "dns-search": [],\n  "exec-opts": [],\n  "exec-root": "",\n  "experimental": false,\n  "features": {},\n  "fixed-cidr": "",\n  "fixed-cidr-v6": "",\n  "group": "",\n  "hosts": [],\n  "proxies": {\n    "http-proxy": "http://proxy.example.com:80",\n    "https-proxy": "https://proxy.example.com:443",\n    "no-proxy": "*.test.example.com,.example.org"\n  },\n  "icc": false,\n  "init": false,\n  "init-path": "/usr/libexec/docker-init",\n  "insecure-registries": [],\n  "ip": "0.0.0.0",\n  "ip-forward": false,\n  "ip-masq": false,\n  "iptables": false,\n  "ip6tables": false,\n  "ipv6": false,\n  "labels": [],\n  "live-restore": true,\n  "log-driver": "json-file",\n  "log-level": "",\n  "log-opts": {\n    "cache-disabled": "false",\n    "cache-max-file": "5",\n    "cache-max-size": "20m",\n    "cache-compress": "true",\n    "env": "os,customer",\n    "labels": "somelabel",\n    "max-file": "5",\n    "max-size": "10m"\n  },\n  "max-concurrent-downloads": 3,\n  "max-concurrent-uploads": 5,\n  "max-download-attempts": 5,\n  "mtu": 0,\n  "no-new-privileges": false,\n  "node-generic-resources": ["NVIDIA-GPU=UUID1", "NVIDIA-GPU=UUID2"],\n  "oom-score-adjust": 0,\n  "pidfile": "",\n  "raw-logs": false,\n  "registry-mirrors": [],\n  "runtimes": {\n    "cc-runtime": {\n      "path": "/usr/bin/cc-runtime"\n    },\n    "custom": {\n      "path": "/usr/local/bin/my-runc-replacement",\n      "runtimeArgs": ["--debug"]\n    }\n  },\n  "seccomp-profile": "",\n  "selinux-enabled": false,\n  "shutdown-timeout": 15,\n  "storage-driver": "",\n  "storage-opts": [],\n  "swarm-default-advertise-addr": "",\n  "tls": true,\n  "tlscacert": "",\n  "tlscert": "",\n  "tlskey": "",\n  "tlsverify": true,\n  "userland-proxy": false,\n  "userland-proxy-path": "/usr/libexec/docker-proxy",\n  "userns-remap": ""\n}\n'})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var r=t(96540);const o={},s=r.createContext(o);function a(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(s.Provider,{value:n},e.children)}},10656:e=>{e.exports=JSON.parse('{"permalink":"/blog/2023/12/26/docker-proxy","source":"@site/blog/2023/12-26-docker-proxy.md","title":"Set docker proxy","description":"1. create/edit user docker configuration:","date":"2023-12-26T00:00:00.000Z","tags":[{"inline":true,"label":"docker","permalink":"/blog/tags/docker"},{"inline":true,"label":"proxy","permalink":"/blog/tags/proxy"},{"inline":true,"label":"container","permalink":"/blog/tags/container"}],"readingTime":1.26,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Set docker proxy","tags":["docker","proxy","container"]},"unlisted":false,"prevItem":{"title":"Remove snapd on ubuntu","permalink":"/blog/2024/05/20/remove-snapd"},"nextItem":{"title":"gdb continue until if condition hit","permalink":"/blog/2023/08/09/gdb-break-if"}}')}}]);